<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Without Cape | Amsterdam Dispatch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@900&family=Libre+Baskerville&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Libre Baskerville', serif; background-color: #f0ede5; color: #1a1a1a; }
        .headline { font-family: 'Playfair Display', serif; letter-spacing: -1px; }
        .double-border { border-top: 3px solid black; border-bottom: 1px solid black; }
        
        .hero-article { border-bottom: 1px solid #333; padding-bottom: 3rem; margin-bottom: 3rem; }
        .hero-article:last-child { border-bottom: none; }
        
        /* The classic drop-cap for the first story */
        .hero-article:first-of-type p::first-letter {
            font-family: 'Playfair Display', serif;
            float: left; font-size: 75px; line-height: 60px;
            padding-top: 4px; padding-right: 10px; font-weight: 900;
        }

        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0.04; pointer-events: none; z-index: 9999;
            background: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
        }
    </style>
</head>
<body class="p-6 md:p-12">

    <header class="max-w-3xl mx-auto text-center mb-16">
        <a href="index.html" class="text-[10px] uppercase font-bold hover:underline tracking-widest text-gray-600">← Return to the Main Dispatch</a>
        <div class="double-border py-8 mt-6">
            <h1 class="text-5xl md:text-7xl headline font-black uppercase leading-none">Hero Without Cape</h1>
        </div>
        <p class="mt-4 italic text-sm text-gray-700 underline decoration-1">A Record of Universal Good & Remarkable Deeds</p>
    </header>

    <main id="hero-feed" class="max-w-2xl mx-auto text-center">
        <p class="italic">Gathering dispatches of kindness...</p>
    </main>

    <script>
        async function fetchHeroes() {
            const container = document.getElementById('hero-feed');
            
            // Selected high-stability RSS feeds from your list
            const feeds = [
                'https://api.rss2json.com/v1/api.json?rss_url=https://www.goodnewsnetwork.org/feed/',
                'https://api.rss2json.com/v1/api.json?rss_url=https://www.positive.news/feed/',
                'https://api.rss2json.com/v1/api.json?rss_url=https://globalvoices.org/feed/'
            ];

            try {
                let allItems = [];
                for (const url of feeds) {
                    try {
                        const res = await fetch(url);
                        const data = await res.json();
                        if (data.items) allItems = allItems.concat(data.items);
                    } catch (e) { console.warn("A telegraph line is down."); }
                }

                // Sort by date
                allItems.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));

                container.classList.remove('text-center');
                container.innerHTML = allItems.slice(0, 10).map(item => {
                    const date = new Date(item.pubDate).toLocaleDateString('en-GB', { month: 'long', year: 'numeric' });
                    const cleanDesc = item.description.replace(/<[^>]*>/g, '').substring(0, 250);
                    
                    return `
                        <article class="hero-article">
                            <h2 class="text-3xl font-black mb-3 uppercase leading-tight">
                                <a href="${item.link}" target="_blank" class="hover:underline">${item.title}</a>
                            </h2>
                            <p class="text-[10px] uppercase font-bold tracking-widest mb-6 text-gray-500">
                                ${date} — ${item.author || 'Foreign Correspondence'}
                            </p>
                            <p class="leading-relaxed text-lg text-gray-900">
                                ${cleanDesc}...
                            </p>
                            <div class="mt-4">
                                <a href="${item.link}" target="_blank" class="text-xs italic underline">Read the full report →</a>
                            </div>
                        </article>
                    `;
                }).join('');

            } catch (err) {
                container.innerHTML = "<p class='italic'>The telegraph lines are silent. Please check back at dawn.</p>";
            }
        }

        window.onload = fetchHeroes;
    </script>
</body>
</html>
